<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">
  <title>The Password Autofill Test: Signup</title>
</head>

<body>
    <form action="success.html?token=123&code=abc" method="post">
        <ul>
            <li>
                <label for="user-text-field">Username:</label>
                <input id="user-text-field" type="email" autocomplete="username"/>
            </li>
            <li>
                <label for="password-text-field">Password:</label>
                <input id="password-text-field" type="password" autocomplete="new-password"/>
            </li>
            <li>
                <button type="submit">Signup</button>
            </li>
        </ul>
    </form>
    <script>
        const queryString = window.location.search;
        const urlParams = new URLSearchParams(queryString);
        const callbackURLScheme = urlParams.get('callback_url_scheme')

        if (callbackURLScheme) {
            document.getElementById('main-form').action = callbackURLScheme + '://success.html?token=123&code=abc'
        }
    </script>
</body>
</html>